<div
    id="app"
    class="flex flex-col min-h-screen max-w-md mx-auto w-full bg-white shadow-2xl relative sm:rounded-xl sm:my-4 sm:min-h-[95vh] sm:max-h-[95vh] sm:overflow-hidden sm:border-4 sm:border-slate-100"
>
    <!-- Header -->
    <header class="camp-header text-white shrink-0 z-20 shadow-md">
        <div class="p-4 flex justify-between items-center">
            <div class="flex items-center gap-3">
                <!-- 側邊欄選單按鈕 -->
                <button @click="showTripMenu = true" class="text-teal-100 hover:text-white transition">
                    <i class="ph-bold ph-list text-2xl"></i>
                </button>
                <div class="overflow-hidden flex-1">
                    <h1 class="text-xl font-bold tracking-wide flex items-center gap-2 truncate">
                        <button
                            @click="startEditTitle"
                            class="flex items-center gap-2 truncate min-w-0 text-left text-teal-50 hover:text-white transition focus:outline-none"
                        >
                            <span class="destination-text camp-title" ref="titleTextRef">
                                {{ (setup.title && setup.title.trim()) || '你的旅程?' }}
                            </span>
                        </button>
                        <i class="ph-fill ph-airplane-tilt text-sm opacity-70"></i>
                        <!-- 複製邀請碼按鈕（僅雲端旅程顯示） -->
                        <button
                            v-if="isCloudTrip && inviteCode"
                            @click="copyInviteCode"
                            class="ml-1 w-6 h-6 flex items-center justify-center text-teal-100 hover:text-white hover:bg-white/20 rounded transition-all cursor-pointer shrink-0"
                            title="複製邀請碼"
                        >
                            <i class="ph-bold ph-copy text-sm"></i>
                        </button>
                    </h1>
                    <!-- <p class="text-xs text-teal-100 mt-0.5 font-light tracking-wider truncate">
                                點擊下方日期切換行程
                            </p> -->
                </div>
            </div>
            <div class="flex items-center gap-2 shrink-0">
                <div class="flex camp-toggle p-1 rounded-xl">
                    <button
                        @click="viewMode = 'plan'"
                        :class="viewMode === 'plan' ? 'camp-toggle-btn-active' : 'camp-toggle-btn'"
                        class="p-2 rounded-lg transition-all"
                    >
                        <i class="ph-bold ph-calendar-check text-lg"></i>
                    </button>
                    <button
                        @click="viewMode = 'map'"
                        :class="viewMode === 'map' ? 'camp-toggle-btn-active' : 'camp-toggle-btn'"
                        class="p-2 rounded-lg transition-all"
                    >
                        <i class="ph-bold ph-map-trifold text-lg"></i>
                    </button>
                    <button
                        @click="viewMode = 'money'"
                        :class="viewMode === 'money' ? 'camp-toggle-btn-active' : 'camp-toggle-btn'"
                        class="p-2 rounded-lg transition-all"
                    >
                        <i class="ph-bold ph-currency-dollar text-lg"></i>
                    </button>
                    <!-- 翻譯功能按鈕 -->
                    <button
                        @click="viewMode = 'translate'"
                        :class="viewMode === 'translate' ? 'camp-toggle-btn-active' : 'camp-toggle-btn'"
                        class="p-2 rounded-lg transition-all"
                    >
                        <i class="ph-bold ph-translate text-xl"></i>
                    </button>
                </div>
            </div>
        </div>
        <div class="flex overflow-x-auto hide-scroll px-2 pt-1 pb-3 space-x-3 snap-x">
            <div
                v-for="(day, index) in days"
                :key="getDayKey(day, index)"
                @click="currentDayIdx = index"
                class="snap-center shrink-0 flex flex-col items-center justify-center w-16 h-16 rounded-xl cursor-pointer transition-all border-2 camp-day"
                :class="currentDayIdx === index ? 'camp-day-active scale-105 translate-y-[1px]' : 'camp-day-inactive'"
            >
                <span class="text-xs font-medium opacity-80">{{ day.shortDate }}</span>
                <span class="text-lg font-bold">D{{ index }}</span>
            </div>
            <button
                @click="addDay"
                class="shrink-0 w-12 h-16 rounded-xl flex items-center justify-center border-2 border-dashed camp-day-add transition"
            >
                <i class="ph-bold ph-plus"></i>
            </button>
        </div>
    </header>

    <transition name="fade">
        <div v-if="isEditingTitle" class="fixed inset-0 z-[70] flex items-center justify-center p-4">
            <div class="absolute inset-0 bg-black/60 backdrop-blur-sm" @click="closeEditModal"></div>
            <div
                class="relative bg-white w-full max-w-sm rounded-2xl shadow-2xl p-6 space-y-4 animate-fade-in"
                @click.stop
            >
                <div class="space-y-1">
                    <p class="text-lg font-bold text-teal-600">請輸入旅程標題</p>
                    <p class="text-xs text-slate-500">讓旅程擁有專屬名稱</p>
                </div>
                <div>
                    <input
                        v-model="editingTitleValue"
                        ref="titleInputRef"
                        @keyup.enter="saveTitle"
                        @keyup.esc="closeEditModal"
                        class="w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-slate-800 font-bold focus:outline-none focus:ring-2 focus:ring-teal-500"
                        placeholder="你的旅程?"
                        autofocus
                    />
                </div>
                <div class="flex gap-3 pt-1">
                    <button
                        @click="closeEditModal"
                        class="flex-1 h-11 rounded-xl border border-slate-200 text-slate-600 font-semibold hover:bg-slate-50 transition"
                    >
                        取消
                    </button>
                    <button
                        @click="saveTitle"
                        class="flex-1 h-11 rounded-xl bg-teal-600 text-white font-semibold hover:bg-teal-700 shadow-sm transition"
                    >
                        修改
                    </button>
                </div>
            </div>
        </div>
    </transition>

    <transition name="fade">
        <div v-if="isEditingNote" class="fixed inset-0 z-[70] flex items-center justify-center p-4">
            <div class="absolute inset-0 bg-black/60 backdrop-blur-sm" @click="closeEditNote"></div>
            <div
                class="relative bg-white w-full max-w-sm rounded-2xl shadow-2xl p-6 space-y-4 animate-fade-in"
                @click.stop
            >
                <div class="space-y-1">
                    <p class="text-lg font-bold text-orange-500">編輯備註</p>
                    <p class="text-xs text-slate-500">點擊右上角關閉或下方儲存</p>
                </div>
                <div>
                    <textarea
                        v-model="editingNoteValue"
                        @keyup.esc="closeEditNote"
                        class="w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-slate-800 text-sm focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-orange-300 min-h-[140px] max-h-[260px] overflow-y-auto leading-relaxed"
                        placeholder="輸入備註..."
                    ></textarea>
                </div>
                <div class="flex gap-3 pt-1">
                    <button
                        @click="closeEditNote"
                        class="flex-1 h-11 rounded-xl border border-slate-200 text-slate-600 font-semibold hover:bg-slate-50 transition"
                    >
                        取消
                    </button>
                    <button
                        @click="saveNote"
                        class="flex-1 h-11 rounded-xl bg-orange-500 text-white font-semibold hover:bg-orange-600 shadow-sm transition"
                    >
                        儲存
                    </button>
                </div>
            </div>
        </div>
    </transition>

    <!-- 新增/插入國家分隔區塊模態框 -->
    <transition name="fade">
        <div v-if="isEditingCountryDivider" class="fixed inset-0 z-[70] flex items-center justify-center p-4">
            <div class="absolute inset-0 bg-black/60 backdrop-blur-sm" @click="closeCountryDividerModal"></div>
            <div
                class="relative bg-white w-full max-w-sm rounded-2xl shadow-2xl p-6 space-y-4 animate-fade-in"
                @click.stop
            >
                <div class="space-y-1">
                    <p class="text-lg font-bold text-blue-500">
                        {{ editingCountryDivider ? '編輯國家分隔' : '插入國家分隔' }}
                    </p>
                    <p class="text-xs text-slate-500">設定國家</p>
                </div>
                <div class="space-y-3">
                    <div>
                        <label class="block text-sm font-medium text-slate-700 mb-1">國家名稱</label>
                        <input
                            v-model="editingCountryName"
                            @keyup.enter="saveCountryDivider"
                            @keyup.esc="closeCountryDividerModal"
                            class="w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-slate-800 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-300"
                            placeholder="例如：日本"
                            autofocus
                        />
                    </div>
                    <div>
                        <label
                            class="block text-sm font-medium text-slate-700 mb-1"
                            title="國家代碼(選擇可以更精準抓取天氣)"
                            >國家代碼(選擇可以更精準抓取天氣)</label
                        >
                        <select
                            v-model="editingCountryCode"
                            class="w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-slate-800 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-300"
                            title="國家代碼(選擇可以更精準抓取天氣)"
                        >
                            <option value="">不選擇國家代碼</option>
                            <option value="JP">JP - 日本</option>
                            <option value="TW">TW - 台灣</option>
                            <option value="VN">VN - 越南</option>
                            <option value="KR">KR - 韓國</option>
                            <option value="CN">CN - 中國</option>
                            <option value="US">US - 美國</option>
                            <option value="TH">TH - 泰國</option>
                            <option value="SG">SG - 新加坡</option>
                            <option value="MY">MY - 馬來西亞</option>
                            <option value="ID">ID - 印尼</option>
                            <option value="PH">PH - 菲律賓</option>
                            <option value="HK">HK - 香港</option>
                            <option value="MO">MO - 澳門</option>
                        </select>
                    </div>
                    <!-- 插入位置選擇（僅插入時顯示） -->
                    <div v-if="!editingCountryDivider" class="pt-2 border-t border-slate-100 space-y-2">
                        <div class="flex items-center justify-between">
                            <p class="text-sm font-semibold text-slate-700">插入位置</p>
                            <p class="text-[11px] text-slate-400">選擇要插入在上方</p>
                        </div>
                        <div class="max-h-48 overflow-y-auto space-y-2 pr-1">
                            <button
                                v-for="(it, i) in currentDay.items"
                                :key="getItemKey(it, i)"
                                @click="insertCountryDividerIndex = i"
                                :class="[
                                    'w-full text-left rounded-xl border px-3 py-2 transition flex flex-col gap-0.5',
                                    insertCountryDividerIndex === i
                                        ? 'border-blue-400 bg-blue-50/80 text-blue-700 shadow-sm'
                                        : 'border-slate-200 text-slate-600 hover:border-blue-200 hover:bg-blue-50/60'
                                ]"
                            >
                                <div class="text-xs font-semibold">插入在此行程上方</div>
                                <div class="text-[11px] text-slate-500 truncate">
                                    {{ i + 1 }}. {{ it.activity || it.region || '未命名行程' }}
                                </div>
                            </button>
                        </div>
                        <button
                            @click="insertCountryDividerIndex = currentDay.items.length"
                            :class="[
                                'w-full rounded-xl border px-3 py-2 transition text-left',
                                insertCountryDividerIndex === currentDay.items.length
                                    ? 'border-blue-400 bg-blue-50/80 text-blue-700 shadow-sm'
                                    : 'border-slate-200 text-slate-600 hover:border-blue-200 hover:bg-blue-50/60'
                            ]"
                        >
                            <div class="text-xs font-semibold">插入在當天最後</div>
                            <div class="text-[11px] text-slate-500">目前行程</div>
                        </button>
                    </div>
                </div>
                <div class="flex gap-3 pt-1">
                    <button
                        @click="closeCountryDividerModal"
                        class="flex-1 h-11 rounded-xl border border-slate-200 text-slate-600 font-semibold hover:bg-slate-50 transition"
                    >
                        取消
                    </button>
                    <button
                        @click="saveCountryDivider"
                        class="flex-1 h-11 rounded-xl bg-blue-500 text-white font-semibold hover:bg-blue-600 shadow-sm transition"
                    >
                        儲存
                    </button>
                </div>
            </div>
        </div>
    </transition>

    <!-- Main Content -->
    <main class="flex-1 relative main-surface sm:overflow-y-auto sm:overflow-x-hidden min-h-0 hide-scrollbar">
        <!-- 行程表 (Plan View) -->
        <transition name="fade" mode="out-in">
            <PlanView
                v-if="viewMode === 'plan'"
                :current-day="currentDay"
                :current-day-idx="currentDayIdx"
                :is-day-weather-loading="isDayWeatherLoading"
                :is-item-weather-loading="isItemWeatherLoading"
                :item-weather-display="(item) => itemWeatherDisplay(item, currentDay)"
                :get-time-period="getTimePeriod"
                :get-google-map-link="getGoogleMapLink"
                :get-dot-color="getDotColor"
                :get-item-key="getItemKey"
                :is-searching-recs="isSearchingRecs"
                :search-target-index="searchTargetIndex"
                :recommendations-map="recommendationsMap"
                @toggle-flight-card="toggleFlightCard"
                @update:flight="(flight) => currentDay.flight = flight"
                @reload-day-weather="reloadDayWeather"
                @show-insert-country-divider-modal="showInsertCountryDividerModal"
                @move-item-up="moveItemUp"
                @move-item-down="moveItemDown"
                @start-edit-country-divider="startEditCountryDivider"
                @remove-country-divider="removeCountryDivider"
                @update:item="({ idx, field, value }) => { currentDay.items[idx][field] = value; }"
                @start-edit-note="startEditNote"
                @item-region-change="(item) => onItemRegionChange(item, currentDay)"
                @clear-item-region="clearItemRegion"
                @remove-item="removeItem"
                @add-item="addItem"
                @remove-current-day="removeCurrentDay"
                @search-nearby="searchNearby"
                @apply-recommendation="applyRecommendation"
            />
        </transition>

        <!-- 地圖視圖 -->
        <div v-if="viewMode === 'map'" class="h-full flex flex-col relative">
            <div id="map" class="flex-1 w-full h-full min-h-[360px] bg-slate-200 z-0"></div>
            <div
                v-if="isMapLoading"
                class="absolute inset-0 bg-white/50 backdrop-blur-sm z-10 flex flex-col items-center justify-center text-teal-600"
            >
                <i class="ph-duotone ph-spinner animate-spin text-4xl mb-2"></i
                ><span class="text-xs font-bold">讀取中...</span>
            </div>
            <div
                class="absolute bottom-4 left-4 right-4 bg-white/90 backdrop-blur rounded-xl p-3 shadow-lg border border-white/50 z-10 flex justify-between items-center"
            >
                <div class="text-sm font-bold text-slate-800">
                    📍 {{ currentDay.items.filter(i=>i.location).length }} 個地點
                </div>
                <div class="flex gap-2">
                    <button @click="initMap" class="p-2 bg-teal-100 text-teal-600 rounded-lg">
                        <i class="ph-bold ph-arrows-clockwise"></i>
                    </button>
                    <button @click="centerOnUser" class="p-2 bg-blue-500 text-white rounded-lg shadow-md">
                        <i class="ph-bold ph-crosshair"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- 分帳視圖 -->
        <MoneyView
            v-if="viewMode === 'money'"
            :is-personal-mode="isPersonalMode"
            :currency="setup.currency"
            :exchange-rate="exchangeRate"
            :currency-label="currencyLabel"
            :currency-symbol="currencySymbol"
            :total-expense="totalExpense"
            :total-expense-in-t-w-d="totalExpenseInTWD"
            :participants-str="participantsStr"
            :participants="participants"
            :paid-by-person="paidByPerson"
            :owed-by-person="owedByPerson"
            :settlement-plan="settlementPlan"
            :new-expense="newExpense"
            :current-expenses="currentExpenses"
            :get-settlement-key="getSettlementKey"
            :get-expense-key="getExpenseKey"
            @toggle-personal-mode="isPersonalMode = !isPersonalMode"
            @currency-change="fetchRateByCurrency"
            @update:exchangeRate="exchangeRate = $event"
            @update-participants="(value: string) => { participantsStr = value; updateParticipants(); }"
            @update:newExpense="newExpense = $event"
            @select-all-splits="selectAllSplits"
            @add-expense="addExpense"
            @remove-expense="removeExpense"
        />

        <!-- 翻譯功能 -->
        <TranslateView v-if="viewMode === 'translate'" />
    </main>

    <!-- 側邊欄 (旅程選單) -->
    <TripSidebar
        :open="showTripMenu"
        :trip-list="tripList"
        :current-trip-id="currentTripId"
        :is-uploading="isUploading"
        :is-syncing="isSyncing"
        :get-trip-cloud-status="getTripCloudStatus"
        @close="showTripMenu = false"
        @create-trip="createNewTrip"
        @show-template="showTemplatePreview = true"
        @switch-trip="switchTrip"
        @upload="handleUploadToCloud"
        @sync="handleSyncFromCloud"
        @invite="handleShowInviteModal"
        @delete-trip="handleDeleteTrip"
        @clear-local="handleClearAllLocalStorage"
    />

    <!-- 其他模態框與選單 -->
    <!-- 國家分隔插入/編輯模態框 -->
    <div
        v-if="isEditingCountryDivider || insertCountryDividerIndex !== null"
        class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4"
        @click.self="closeCountryDividerModal"
    >
        <div class="bg-white rounded-2xl p-6 max-w-md w-full shadow-xl">
            <h3 class="text-lg font-bold mb-4">
                {{ insertCountryDividerIndex !== null ? '插入國家分隔' : '編輯國家分隔' }}
            </h3>
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-slate-700 mb-1">國家名稱</label>
                    <input
                        v-model="editingCountryName"
                        class="w-full border border-slate-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-teal-500"
                        placeholder="例如：日本"
                    />
                </div>
                <div>
                    <label class="block text-sm font-medium text-slate-700 mb-1"
                        >國家代碼(選擇可以更精準抓取天氣)</label
                    >
                    <select
                        v-model="editingCountryCode"
                        class="w-full border border-slate-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-teal-500"
                    >
                        <option value="">不選擇</option>
                        <option value="JP">日本 (JP)</option>
                        <option value="KR">韓國 (KR)</option>
                        <option value="CN">中國 (CN)</option>
                        <option value="TW">台灣 (TW)</option>
                        <option value="TH">泰國 (TH)</option>
                        <option value="VN">越南 (VN)</option>
                        <option value="US">美國 (US)</option>
                        <option value="GB">英國 (GB)</option>
                        <option value="FR">法國 (FR)</option>
                        <option value="DE">德國 (DE)</option>
                        <option value="IT">義大利 (IT)</option>
                        <option value="ES">西班牙 (ES)</option>
                        <option value="AU">澳洲 (AU)</option>
                    </select>
                </div>
                <!-- 插入位置選擇（僅在插入時顯示） -->
                <div v-if="insertCountryDividerIndex !== null">
                    <label class="block text-sm font-medium text-slate-700 mb-2">插入位置</label>
                    <div class="max-h-60 overflow-y-auto border border-slate-200 rounded-lg">
                        <button
                            v-for="(item, idx) in currentDay.items"
                            :key="idx"
                            @click="insertCountryDividerIndex = idx"
                            :class="[
                                'w-full text-left px-3 py-2 hover:bg-teal-50 transition',
                                insertCountryDividerIndex === idx ? 'bg-teal-100 border-l-4 border-teal-500' : ''
                            ]"
                        >
                            <span class="text-sm"
                                >{{ idx + 1 }}. {{ item.activity || item.country || '未命名行程' }}</span
                            >
                        </button>
                        <button
                            @click="insertCountryDividerIndex = currentDay.items.length"
                            :class="[
                                'w-full text-left px-3 py-2 hover:bg-teal-50 transition',
                                insertCountryDividerIndex === currentDay.items.length
                                    ? 'bg-teal-100 border-l-4 border-teal-500'
                                    : ''
                            ]"
                        >
                            <span class="text-sm">最後</span>
                        </button>
                    </div>
                </div>
            </div>
            <div class="flex gap-3 mt-6">
                <button
                    @click="closeCountryDividerModal"
                    class="flex-1 px-4 py-2 border border-slate-300 rounded-lg text-slate-700 hover:bg-slate-50 transition"
                >
                    取消
                </button>
                <button
                    @click="saveCountryDivider"
                    class="flex-1 px-4 py-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition"
                >
                    儲存
                </button>
            </div>
        </div>
    </div>

    <!-- 備註編輯模態框 -->
    <div
        v-if="isEditingNote"
        class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4"
        @click.self="closeEditNote"
    >
        <div class="bg-white rounded-2xl p-6 max-w-md w-full shadow-xl">
            <h3 class="text-lg font-bold mb-4">編輯備註</h3>
            <textarea
                v-model="editingNoteValue"
                class="w-full border border-slate-300 rounded-lg px-3 py-2 min-h-[120px] focus:outline-none focus:ring-2 focus:ring-teal-500"
                placeholder="輸入備註..."
            ></textarea>
            <div class="flex gap-3 mt-6">
                <button
                    @click="closeEditNote"
                    class="flex-1 px-4 py-2 border border-slate-300 rounded-lg text-slate-700 hover:bg-slate-50 transition"
                >
                    取消
                </button>
                <button
                    @click="saveNote"
                    class="flex-1 px-4 py-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition"
                >
                    儲存
                </button>
            </div>
        </div>
    </div>

    <!-- 預設模板模態框 -->
    <div
        v-if="showTemplatePreview"
        class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4"
        @click.self="showTemplatePreview = false"
    >
        <div class="bg-white rounded-2xl p-6 max-w-2xl w-full shadow-xl max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-bold">預設模板</h3>
                <button @click="showTemplatePreview = false" class="text-slate-400 hover:text-slate-600">
                    <i class="ph-bold ph-x text-xl"></i>
                </button>
            </div>
            <div class="space-y-4">
                <div
                    class="border border-slate-200 rounded-lg p-4 hover:border-teal-400 hover:shadow-md transition cursor-pointer"
                    @click="loadTemplateAsNew(JP_TRIP_ID)"
                >
                    <div class="flex justify-between items-start">
                        <div>
                            <h4 class="font-bold text-slate-800 mb-1">{{ JP_TRIP_DATA.title }}</h4>
                            <p class="text-sm text-slate-600 mb-2">{{ JP_TRIP_DATA.days?.length || 0 }} 天</p>
                            <p class="text-xs text-slate-500">
                                總支出：{{ jpExpensesTotal.toLocaleString() }} {{ setup.currency }}
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 邀請碼模態框 -->
    <div
        v-if="showInviteModal"
        class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4"
        @click.self="showInviteModal = false"
    >
        <div class="bg-white rounded-2xl p-6 max-w-md w-full shadow-xl">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-bold">分享旅程</h3>
                <button @click="showInviteModal = false" class="text-slate-400 hover:text-slate-600">
                    <i class="ph-bold ph-x text-xl"></i>
                </button>
            </div>
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-slate-700 mb-1">邀請碼</label>
                    <div class="flex gap-2">
                        <input
                            :value="inviteCode"
                            readonly
                            class="flex-1 border border-slate-300 rounded-lg px-3 py-2 bg-slate-50"
                        />
                        <button
                            @click="copyInviteCode"
                            class="px-4 py-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition"
                        >
                            複製
                        </button>
                    </div>
                </div>
                <div>
                    <label class="block text-sm font-medium text-slate-700 mb-1">邀請連結</label>
                    <div class="flex gap-2">
                        <input
                            :value="inviteLink"
                            readonly
                            class="flex-1 border border-slate-300 rounded-lg px-3 py-2 bg-slate-50 text-xs"
                        />
                        <button
                            @click="copyInviteLink"
                            class="px-4 py-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition"
                        >
                            複製
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
